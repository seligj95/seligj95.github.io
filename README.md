# Personal Blog

Personal blog by Jordan Selig, built with [Astro](https://astro.build) and deployed to GitHub Pages.

## Quick Start

```bash
npm install
npm run dev        # Start dev server at localhost:4321
npm run build      # Build for production
npm run preview    # Preview production build
```

## Tech Stack

- **Framework:** Astro (static site generator)
- **Analytics:** GoatCounter (privacy-friendly, no cookies)
- **Comments & Reactions:** Giscus (GitHub Discussions-backed)
- **Hosting:** GitHub Pages via GitHub Actions

## Project Structure

```
src/
├── components/      # Reusable UI components
├── content/blog/    # Markdown blog posts
├── layouts/         # Page layouts
├── pages/           # Route pages
└── styles/          # Global CSS
```

## Writing Posts

Add a `.md` file to `src/content/blog/`:

```markdown
---
title: "My Post"
description: "A short summary."
pubDate: 2026-02-24
tags: ["tag1", "tag2"]
---

Content goes here.
```

## Deployment

Pushes to `main` automatically deploy via GitHub Actions.

---

## Service Configuration

### GoatCounter (Analytics)

1. Go to [goatcounter.com](https://www.goatcounter.com) and create a free account.
2. Choose a site code (e.g., `jordanselig`) — your dashboard will be at `https://jordanselig.goatcounter.com`.
3. The tracking script is already in `src/components/BaseHead.astro`. Update the `data-goatcounter` URL if your site code differs.
4. **Local development:** The script includes `allow_local: true` so page views from `localhost` are tracked during development. Remove or set to `false` before launch if you don't want dev traffic counted.

### Giscus (Comments & Reactions)

1. **Enable GitHub Discussions** on your repo: Settings → General → Features → ✅ Discussions.
2. **Create a "Blog Comments" category** in Discussions (use the Announcement type so only the Giscus bot can create top-level threads).
3. **Install the Giscus app** at [github.com/apps/giscus](https://github.com/apps/giscus) — grant access to this repo only.
4. **Get your IDs** at [giscus.app](https://giscus.app):
   - Enter `jordanselig/personal-blog` as the repo.
   - Select the "Blog Comments" category.
   - Copy the `data-repo-id` and `data-category-id` values.
5. **Paste the IDs** into the `<Comments>` usage in `src/layouts/BlogPostLayout.astro`:
   ```astro
   <Comments
     repo="jordanselig/personal-blog"
     repoId="YOUR_REPO_ID"
     category="Blog Comments"
     categoryId="YOUR_CATEGORY_ID"
   />
   ```
6. The Giscus theme automatically syncs with the site's dark/light mode toggle.

### GitHub Pages (Hosting)

1. Go to your repo's **Settings → Pages**.
2. Under **Source**, select **GitHub Actions**.
3. The included workflow (`.github/workflows/`) will build and deploy on every push to `main`.
4. Your site will be live at `https://jordanselig.github.io/personal-blog/`.
5. The `base` in `astro.config.mjs` is `/personal-blog` — change this if your repo name differs.

### RSS Feed

The feed is auto-generated at `/personal-blog/rss.xml`. It includes post titles, descriptions, dates, and tags as categories. Most RSS readers will auto-discover it via the `<link rel="alternate">` tag in the page head.

### SEO

- **Open Graph & Twitter cards** are configured in `BaseHead.astro`.
- **JSON-LD Article schema** is injected on each blog post page for rich search results.
- **Sitemap** is generated by `@astrojs/sitemap` and referenced in `robots.txt`.
